{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/stop_hook_enforcer.py\"",
            "timeout": 5,
            "description": "Self-enforcing periodic checks: git status, inbox, CLAUDE.md refresh, test reminders"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/precompact_hook.py\"",
            "timeout": 5,
            "description": "Re-examine CLAUDE.md and vault before compaction (manual /compact)"
          }
        ],
        "matcher": "manual"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/precompact_hook.py\"",
            "timeout": 5,
            "description": "Re-examine CLAUDE.md and vault before compaction (auto-compact)"
          }
        ],
        "matcher": "auto"
      }
    ],
    "PreToolUse": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/standards_validator.py\"",
            "timeout": 10,
            "description": "Validate file content against coding standards (block-and-correct pattern)"
          }
        ],
        "matcher": "Write"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/standards_validator.py\"",
            "timeout": 10,
            "description": "Validate file content against coding standards (block-and-correct pattern)"
          }
        ],
        "matcher": "Edit"
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Before ending, save session state by running /session-end to preserve your todo list and work focus for next session.",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/todo_sync_hook.py\"",
            "timeout": 10,
            "description": "Sync TodoWrite calls to claude.todos database"
          }
        ],
        "matcher": "TodoWrite"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__postgres__execute_sql"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__postgres__list_schemas"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__postgres__list_objects"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__postgres__get_object_details"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__postgres__explain_query"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__postgres__analyze_db_health"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__orchestrator__spawn_agent"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__orchestrator__spawn_agent_async"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__orchestrator__check_inbox"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__orchestrator__send_message"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__orchestrator__broadcast"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__orchestrator__acknowledge"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__orchestrator__get_agent_stats"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__orchestrator__get_mcp_stats"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__memory__create_entities"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__memory__search_nodes"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__memory__read_graph"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__vault-rag__semantic_search"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__vault-rag__get_document"
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/mcp_usage_logger.py\"",
            "timeout": 30
          }
        ],
        "matcher": "mcp__sequential-thinking__sequentialthinking"
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/.claude-plugins/claude-family-core/scripts/session_startup_hook.py\"",
            "timeout": 30,
            "description": "Auto-log session and load state/messages"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"C:/Projects/claude-family/scripts/rag_query_hook.py\"",
            "timeout": 10,
            "description": "Auto-query Voyage AI RAG on every user prompt for vault context injection"
          }
        ]
      }
    ]
  },
  "mcp_servers": [
    "postgres",
    "memory"
  ],
  "skills": [
    "code-review",
    "testing-patterns"
  ],
  "instructions": [
    "csharp.instructions.md",
    "winforms.instructions.md",
    "winforms-dark-theme.instructions.md",
    "a11y.instructions.md"
  ],
  "permissions": {
    "allow": [
      "mcp__postgres__list_schemas",
      "mcp__postgres__list_objects",
      "mcp__postgres__execute_sql",
      "mcp__postgres__get_object_details",
      "WebSearch",
      "Read(//c/**)",
      "Bash(cd:*)",
      "Bash(git -C C:Projectsnimbus-user-loader log --all --oneline --since=\"2024-10-01\" -30)",
      "Bash(git -C C:Projectsnimbus-user-loader log --all --oneline --grep=\"refactor\" -i --since=\"2024-01-01\" -15)",
      "Bash(git --git-dir=C:Projectsnimbus-user-loader.git --work-tree=C:Projectsnimbus-user-loader log --all --oneline --since=\"2024-10-01\" -- src/nimbus-user-loader/Program.cs)",
      "Bash(git --git-dir=C:Projectsnimbus-user-loader.git --work-tree=C:Projectsnimbus-user-loader log --oneline --all -- src/nimbus-user-loader/Services/ReportGenerationService.cs)",
      "Bash(git log:*)",
      "Bash(python:*)",
      "mcp__filesystem__directory_tree",
      "mcp__filesystem__list_directory",
      "mcp__filesystem__read_text_file",
      "mcp__filesystem__read_multiple_files",
      "mcp__filesystem__write_file",
      "Bash(awk:*)"
    ],
    "deny": [],
    "ask": []
  }
}