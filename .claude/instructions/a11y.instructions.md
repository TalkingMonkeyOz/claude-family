---
description: 'Accessibility and contrast requirements'
applyTo: '**/*.cs,**/*.tsx,**/*.ts,**/*.css'
source: 'WCAG 2.2 AA + awesome-copilot'
---

# Accessibility Guidelines

## Color Contrast (WCAG 2.2 AA)

| Element | Min Ratio | Example |
|---------|-----------|---------|
| Normal text (<18px) | **4.5:1** | #767676 on white = 4.5:1 |
| Large text (18px+ bold, 24px+) | **3:1** | #959595 on white = 3:1 |
| UI components, borders | **3:1** | Buttons, inputs, icons |
| Focus indicators | **3:1** | Visible focus ring |

## Never Use Color Alone

```csharp
// BAD - Color only indicates error
txtEmail.BackColor = Color.Red;

// GOOD - Color + icon + text
txtEmail.BackColor = Color.FromArgb(255, 235, 235);
lblError.Text = "⚠ Invalid email format";
lblError.Visible = true;
```

## Focus Indicators

All interactive elements need visible focus:

```csharp
// WinForms - buttons show focus by default
// For custom controls:
protected override void OnGotFocus(EventArgs e)
{
    this.Invalidate(); // Trigger repaint with focus ring
}

protected override void OnPaint(PaintEventArgs e)
{
    base.OnPaint(e);
    if (this.Focused)
    {
        ControlPaint.DrawFocusRectangle(e.Graphics, this.ClientRectangle);
    }
}
```

## Keyboard Navigation

- All interactive elements reachable via Tab
- Tab order follows visual/reading order
- Escape closes dialogs/popups
- Enter activates default button

```csharp
// Set tab order explicitly
txtName.TabIndex = 0;
txtEmail.TabIndex = 1;
btnSubmit.TabIndex = 2;

// Make button default
this.AcceptButton = btnSubmit;
this.CancelButton = btnCancel;
```

## Screen Reader Labels

```csharp
// Use AccessibleName for controls without visible labels
btnClose.AccessibleName = "Close dialog";
picLogo.AccessibleName = "Company logo";
picLogo.AccessibleRole = AccessibleRole.Graphic;

// For decorative images
picDecoration.AccessibleRole = AccessibleRole.None;
```

## Form Labels

```csharp
// Associate labels with controls
lblEmail.Text = "Email:";
txtEmail.AccessibleName = "Email";

// Or use label positioning (label immediately before control in tab order)
```

## Error Messages

```csharp
// Clear, actionable error messages
errorProvider.SetError(txtEmail, "Enter a valid email address (e.g., user@example.com)");

// Focus first error field
if (!IsValid())
{
    txtEmail.Focus();
    // Announce to screen reader
    AccessibilityNotifyClients(AccessibleEvents.Focus, 0);
}
```

## Contrast Testing Tools

- Windows: Accessibility Insights for Windows
- Web: Chrome DevTools → Rendering → Emulate vision deficiencies
- Calculators: webaim.org/resources/contrastchecker/

## Dark Mode Contrast Check

| Combo | Ratio | Pass? |
|-------|-------|-------|
| #CCCCCC on #1E1E1E | 10.5:1 | ✓ |
| #9D9D9D on #1E1E1E | 5.9:1 | ✓ |
| #666666 on #1E1E1E | 3.5:1 | Large only |
| #0078D4 on #1E1E1E | 4.0:1 | ✗ Needs lighter |
| #3794FF on #1E1E1E | 5.3:1 | ✓ |
